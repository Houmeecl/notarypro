import{u as j,p as g,bX as v,r,j as e,d as b,v as C,x as y,z as N,e as S,a2 as w,a3 as D,a4 as T,a5 as E,a6 as a,a9 as F,V as P,a as x}from"./index-BPC64rrb.js";function A(){const{toast:t}=j(),[k,i]=g(),{user:n}=v()||{user:null},[l,d]=r.useState(!1),[o,h]=r.useState(""),[c,p]=r.useState(!1);r.useEffect(()=>{n&&console.log("Usuario autenticado:",n.username)},[n]);const u=async s=>{if(s.preventDefault(),!o){t({title:"Error",description:"Por favor selecciona un tipo de documento",variant:"destructive"});return}if(!c){t({title:"Error",description:"Debes aceptar firmar el documento",variant:"destructive"});return}d(!0);try{await new Promise(f=>setTimeout(f,1500)),t({title:"Éxito",description:"Documento generado correctamente"});const m=`doc-${Date.now()}-${Math.floor(Math.random()*1e4)}`;i(`/document-view/${m}`)}catch{t({title:"Error",description:"Ha ocurrido un error al generar el documento",variant:"destructive"})}finally{d(!1)}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#f2f1ff] p-4",children:e.jsxs(b,{className:"w-full max-w-md shadow-md",children:[e.jsxs(C,{className:"bg-[#2d219b] text-white rounded-t-lg",children:[e.jsx(y,{className:"text-xl",children:"Seleccione el Documento a Firmar"}),e.jsx(N,{className:"text-gray-200",children:"Seleccione el tipo de documento que desea generar y firmar"})]}),e.jsx(S,{className:"pt-6",children:e.jsxs("form",{onSubmit:u,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"document-type",className:"text-sm font-medium",children:"Tipo de Documento:"}),e.jsxs(w,{value:o,onValueChange:h,children:[e.jsx(D,{id:"document-type",className:"w-full",children:e.jsx(T,{placeholder:"Seleccione un tipo de documento"})}),e.jsxs(E,{children:[e.jsx(a,{value:"compraventa",children:"Contrato de Compraventa"}),e.jsx(a,{value:"trabajo",children:"Contrato de Trabajo"}),e.jsx(a,{value:"poder",children:"Poder Bancario"}),e.jsx(a,{value:"mandato",children:"Mandato General"}),e.jsx(a,{value:"finiquito",children:"Finiquito Laboral"})]})]})]}),e.jsxs("div",{className:"flex items-start space-x-2 pt-2",children:[e.jsx(F,{id:"signature",checked:c,onCheckedChange:s=>{typeof s=="boolean"&&p(s)}}),e.jsxs("div",{className:"grid gap-1.5 leading-none",children:[e.jsx("label",{htmlFor:"signature",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Firma Electrónica Simple"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Al marcar esta casilla, acepto firmar electrónicamente este documento"})]})]})]})}),e.jsxs(P,{className:"flex justify-between",children:[e.jsx(x,{variant:"outline",onClick:()=>i("/"),children:"Cancelar"}),e.jsx(x,{onClick:u,disabled:l||!o||!c,className:"bg-[#2d219b] hover:bg-[#231c7c]",children:l?"Procesando...":"Generar Documento"})]})]})})}export{A as default};
