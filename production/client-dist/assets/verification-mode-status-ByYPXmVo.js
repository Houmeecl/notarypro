import{bV as t,r as d,j as s,d as x,v as g,x as h,e as u,bB as j,aB as v,a as l,bm as p,Z as n}from"./index-BPC64rrb.js";function N(){const e=[];let r=null;localStorage.getItem("vx_force_demo")==="true"&&e.push("Existe configuración de modo demo en localStorage");try{const a=localStorage.getItem("vx_device_mode_config");a?(r=JSON.parse(a),r.mode!==t.REAL&&e.push(`Modo incorrecto: ${r.mode}`),r.demoDeviceIds&&r.demoDeviceIds.length>0&&e.push("Existen IDs de dispositivos demo configurados"),r.forceDemoParameter&&r.forceDemoParameter.length>0&&e.push("Parámetro de URL para forzar demo está habilitado")):e.push("No existe configuración de modo en localStorage")}catch(a){const o=a instanceof Error?a.message:"Error desconocido";e.push(`Error al verificar configuración: ${o}`)}return{isValid:e.length===0,errors:e,deviceMode:(r==null?void 0:r.mode)||null,config:r}}function b(){try{localStorage.removeItem("vx_force_demo");const e={mode:t.REAL,demoDeviceIds:[],realDeviceIds:["*"],forceDemoParameter:"",forceRealParameter:"real"};return localStorage.setItem("vx_device_mode_config",JSON.stringify(e)),{success:!0,message:"Modo real forzado configurado correctamente"}}catch(e){return{success:!1,message:`Error al configurar modo real: ${e instanceof Error?e.message:"Error desconocido"}`}}}function E(){const[e,r]=d.useState(null),[a,o]=d.useState(!1),c=()=>{o(!0);const i=N();r(i),o(!1)},m=()=>{o(!0);const i=b();i.success?(n({title:"Configuración Actualizada",description:i.message}),c()):n({title:"Error",description:i.message,variant:"destructive"}),o(!1)};return d.useEffect(()=>{c()},[]),s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#f5f5fa] p-4",children:s.jsxs(x,{className:"w-full max-w-3xl shadow-lg",children:[s.jsx(g,{className:"bg-[#2d219b] text-white",children:s.jsx(h,{className:"text-xl",children:"Estado del Modo de Verificación"})}),s.jsxs(u,{className:"p-6",children:[s.jsxs("div",{className:"mb-6 flex items-center space-x-2",children:[s.jsx("div",{className:`h-4 w-4 rounded-full ${e!=null&&e.isValid?"bg-green-500":"bg-red-500"}`}),s.jsx("span",{className:"font-medium",children:e!=null&&e.isValid?"Modo Real Forzado Correctamente":"Configuración de Modo Real Incorrecta"})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium mb-2",children:"Detalles de Configuración"}),s.jsx("div",{className:"bg-gray-50 rounded-md p-4 border border-gray-200",children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Modo Actual:"}),s.jsx("span",{className:"font-medium",children:(e==null?void 0:e.deviceMode)||"No definido"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Estado:"}),s.jsx("span",{className:`font-medium ${e!=null&&e.isValid?"text-green-600":"text-red-600"}`,children:e!=null&&e.isValid?"Válido":"Inválido"})]})]})})]}),e&&!e.isValid&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium mb-2",children:"Errores Detectados"}),s.jsx("div",{className:"bg-red-50 rounded-md p-4 border border-red-200",children:s.jsx("ul",{className:"list-disc list-inside space-y-1",children:e.errors.map((i,f)=>s.jsxs("li",{className:"text-red-700 text-sm",children:[s.jsx(j,{className:"h-4 w-4 inline-block mr-1"}),i]},f))})})]}),e&&e.isValid&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium mb-2",children:"Verificación Completa"}),s.jsx("div",{className:"bg-green-50 rounded-md p-4 border border-green-200",children:s.jsxs("div",{className:"flex items-center text-green-700",children:[s.jsx(v,{className:"h-5 w-5 mr-2"}),s.jsx("span",{children:"La aplicación está correctamente configurada en modo real forzado."})]})})]}),s.jsxs("div",{className:"flex space-x-4 mt-6",children:[s.jsxs(l,{onClick:c,variant:"outline",className:"border-[#2d219b] text-[#2d219b]",disabled:a,children:[s.jsx(p,{className:`h-4 w-4 mr-2 ${a?"animate-spin":""}`}),"Verificar Estado"]}),e&&!e.isValid&&s.jsx(l,{onClick:m,className:"bg-[#2d219b] hover:bg-[#231c7c]",disabled:a,children:"Forzar Modo Real"})]})]})]})]})})}export{E as default};
