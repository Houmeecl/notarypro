import{o as M,bX as A,r as c,j as e,B as l,aB as w,ay as d,b6 as v,a as C,bm as E,ax as P,az as R,aA as L,T as V,g as z,h as i,k as I,d as q,v as $,x as B,z as F,e as O,a$ as U,b0 as H,b1 as g,b2 as n,b3 as X,b4 as r,c9 as _,ca as G,cb as W,cc as J,bc as S,_ as K,W as Q,U as Y,a1 as Z,n as ee,bE as ae,i as se,af as te,cd as ie,aj as re,bb as ne,aw as oe,ce,aW as le}from"./index-BPC64rrb.js";/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],me=M("link",de);function ue(){const{user:m}=A(),[s,p]=c.useState([]),[x,j]=c.useState(!0),[t,k]=c.useState("todos"),f=async()=>{j(!0);const a=[{id:"firma-simple",name:"Firma Electrónica Simple",description:"Validez legal según Art. 5° Ley 19.799",category:"signature",status:"online",lastChecked:new Date,icon:e.jsx(Q,{className:"h-5 w-5 text-green-500"}),url:"/document-sign",requiresRealMode:!0,realModeEnabled:!0},{id:"firma-avanzada",name:"Firma Electrónica Avanzada",description:"Validez legal completa Art. 3° Ley 19.799",category:"signature",status:"online",lastChecked:new Date,icon:e.jsx(S,{className:"h-5 w-5 text-green-500"}),url:"/etoken-diagnostico",requiresRealMode:!0,realModeEnabled:!0},{id:"verificacion-identidad",name:"Verificación de Identidad",description:"Validación cédula chilena",category:"identity",status:"online",lastChecked:new Date,icon:e.jsx(Y,{className:"h-5 w-5 text-green-500"}),url:"/verificacion-nfc-fixed",requiresRealMode:!0,realModeEnabled:!0},{id:"pagos",name:"Sistema de Pagos TUU",description:"Procesamiento de pagos",category:"payment",status:"online",lastChecked:new Date,icon:e.jsx(Z,{className:"h-5 w-5 text-green-500"}),url:"/payment-options"},{id:"vecinos-express",name:"VecinosXpress",description:"Red de puntos de servicio",category:"core",status:"online",lastChecked:new Date,icon:e.jsx(ee,{className:"h-5 w-5 text-green-500"}),url:"/vecinos-express"},{id:"ron",name:"Certificación por Video (RON)",description:"Notarización online remota",category:"certification",status:"online",lastChecked:new Date,icon:e.jsx(ae,{className:"h-5 w-5 text-green-500"}),url:"/certificacion-por-video"},{id:"plantillas",name:"Plantillas de documentos",description:"Biblioteca de contratos",category:"core",status:"online",lastChecked:new Date,icon:e.jsx(se,{className:"h-5 w-5 text-green-500"}),url:"/document-templates"},{id:"pos-app",name:"Aplicación POS",description:"Terminal punto de venta",category:"integration",status:"online",lastChecked:new Date,icon:e.jsx(te,{className:"h-5 w-5 text-green-500"}),url:"/pos-menu"},{id:"api-identidad",name:"API de Identidad",description:"Servicio verificación para terceros",category:"integration",status:"online",lastChecked:new Date,icon:e.jsx(me,{className:"h-5 w-5 text-green-500"}),url:"/integraciones-api-identidad"},{id:"bd-documentos",name:"Base de datos documentos",description:"Almacenamiento seguro",category:"core",status:"online",lastChecked:new Date,icon:e.jsx(ie,{className:"h-5 w-5 text-green-500"})},{id:"sellado-tiempo",name:"Sellado de tiempo",description:"Timestamp para documentos",category:"signature",status:"online",lastChecked:new Date,icon:e.jsx(re,{className:"h-5 w-5 text-green-500"})},{id:"notificaciones",name:"Sistema de Notificaciones",description:"Correos y alertas",category:"core",status:"online",lastChecked:new Date,icon:e.jsx(ne,{className:"h-5 w-5 text-green-500"})},{id:"seguridad",name:"Sistema de Seguridad",description:"Cifrado y protección",category:"core",status:"online",lastChecked:new Date,icon:e.jsx(oe,{className:"h-5 w-5 text-green-500"})},{id:"cursos",name:"Plataforma de Cursos",description:"Formación para certificadores",category:"certification",status:"online",lastChecked:new Date,icon:e.jsx(ce,{className:"h-5 w-5 text-green-500"}),url:"/curso-certificador"},{id:"garantias",name:"Garantías Legales",description:"Documentación legal",category:"core",status:"online",lastChecked:new Date,icon:e.jsx(le,{className:"h-5 w-5 text-green-500"}),url:"/garantias-legales"}];try{const u=await(await K("GET","/api/check-real-mode")).json(),D=a.map(h=>h.requiresRealMode?{...h,realModeEnabled:u.isRealMode,status:u.isRealMode?"online":"degraded",details:u.isRealMode?"Servicio operando en modo real completo":"¡Atención! El servicio está configurado en modo demo, no apto para producción"}:h);p(D)}catch(N){console.error("Error verificando modo real:",N),p(a)}j(!1)};c.useEffect(()=>{f()},[]);const y=t==="todos"?s:s.filter(a=>a.category===t),o=a=>{switch(a){case"online":return"bg-green-100 text-green-800 border-green-200";case"offline":return"bg-red-100 text-red-800 border-red-200";case"degraded":return"bg-yellow-100 text-yellow-800 border-yellow-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},T=a=>{switch(a){case"online":return e.jsx(w,{className:"h-4 w-4 text-green-500"});case"offline":return e.jsx(v,{className:"h-4 w-4 text-red-500"});case"degraded":return e.jsx(d,{className:"h-4 w-4 text-yellow-500"});default:return e.jsx(d,{className:"h-4 w-4 text-gray-500"})}},b=a=>{switch(a){case"core":return"Servicios Principales";case"identity":return"Verificación de Identidad";case"signature":return"Firma Digital";case"certification":return"Certificación";case"payment":return"Pagos";case"integration":return"Integraciones";default:return"Otros Servicios"}};return e.jsxs("div",{className:"container max-w-7xl mx-auto py-8 px-4",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Estado de Servicios NotaryPro"}),e.jsx("p",{className:"text-gray-600",children:"Monitoreo en tiempo real de todos los servicios del sistema en producción."})]}),e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{className:"flex space-x-4",children:[e.jsxs(l,{variant:"outline",className:`${o("online")} px-3 py-1 text-sm font-medium flex items-center`,children:[e.jsx(w,{className:"h-4 w-4 mr-1"})," Operativos: ",s.filter(a=>a.status==="online").length]}),e.jsxs(l,{variant:"outline",className:`${o("degraded")} px-3 py-1 text-sm font-medium flex items-center`,children:[e.jsx(d,{className:"h-4 w-4 mr-1"})," Degradados: ",s.filter(a=>a.status==="degraded").length]}),e.jsxs(l,{variant:"outline",className:`${o("offline")} px-3 py-1 text-sm font-medium flex items-center`,children:[e.jsx(v,{className:"h-4 w-4 mr-1"})," Caídos: ",s.filter(a=>a.status==="offline").length]})]}),e.jsxs(C,{onClick:f,variant:"outline",className:"flex items-center gap-2",disabled:x,children:[e.jsx(E,{className:`h-4 w-4 ${x?"animate-spin":""}`}),x?"Verificando...":"Actualizar estado"]})]}),s.some(a=>a.requiresRealMode&&!a.realModeEnabled)&&e.jsxs(P,{className:"mb-6 bg-yellow-50 border-yellow-200",children:[e.jsx(d,{className:"h-4 w-4 text-yellow-600"}),e.jsx(R,{className:"text-yellow-800",children:"Atención: Servicios en modo de prueba"}),e.jsx(L,{className:"text-yellow-700",children:"Algunos servicios están operando en modo de prueba y no en modo real. Esto puede afectar la validez legal de las operaciones."})]}),e.jsxs(V,{defaultValue:"todos",value:t,onValueChange:k,className:"mb-8",children:[e.jsxs(z,{className:"mb-4",children:[e.jsx(i,{value:"todos",children:"Todos"}),e.jsx(i,{value:"core",children:"Principales"}),e.jsx(i,{value:"identity",children:"Identidad"}),e.jsx(i,{value:"signature",children:"Firma"}),e.jsx(i,{value:"certification",children:"Certificación"}),e.jsx(i,{value:"payment",children:"Pagos"}),e.jsx(i,{value:"integration",children:"Integraciones"})]}),e.jsx(I,{value:t,children:e.jsxs(q,{children:[e.jsxs($,{children:[e.jsx(B,{children:b(t)}),e.jsx(F,{children:t==="todos"?"Todos los servicios del sistema NotaryPro":`Servicios de ${b(t).toLowerCase()}`})]}),e.jsx(O,{children:e.jsxs(U,{children:[e.jsx(H,{children:e.jsxs(g,{children:[e.jsx(n,{className:"w-12"}),e.jsx(n,{children:"Servicio"}),e.jsx(n,{children:"Descripción"}),e.jsx(n,{children:"Estado"}),e.jsx(n,{children:"Última verificación"}),e.jsx(n,{className:"text-right",children:"Acción"})]})}),e.jsx(X,{children:y.length===0?e.jsx(g,{children:e.jsx(r,{colSpan:6,className:"text-center py-8 text-gray-500",children:"No hay servicios disponibles en esta categoría"})}):y.map(a=>e.jsxs(g,{className:"hover:bg-gray-50",children:[e.jsx(r,{children:a.icon}),e.jsx(r,{className:"font-medium",children:a.name}),e.jsx(r,{children:a.description}),e.jsx(r,{children:e.jsx(_,{children:e.jsxs(G,{children:[e.jsx(W,{asChild:!0,children:e.jsxs(l,{variant:"outline",className:`${o(a.status)} px-2.5 py-0.5 text-xs flex items-center gap-1`,children:[T(a.status),a.status==="online"?"Operativo":a.status==="offline"?"Caído":a.status==="degraded"?"Degradado":"Desconocido"]})}),a.details&&e.jsx(J,{children:e.jsx("p",{children:a.details})})]})})}),e.jsxs(r,{children:[a.lastChecked.toLocaleTimeString()," ",a.lastChecked.toLocaleDateString()]}),e.jsx(r,{className:"text-right",children:a.url&&e.jsx(C,{variant:"ghost",size:"sm",asChild:!0,className:"text-indigo-600 hover:text-indigo-800 hover:bg-indigo-50",children:e.jsx("a",{href:a.url,children:"Acceder"})})})]},a.id))})]})})]})})]}),e.jsxs("div",{className:"mt-8 bg-gray-50 p-4 rounded-lg",children:[e.jsx("h2",{className:"text-lg font-medium mb-2",children:"Estado del sistema"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Versión del sistema"}),e.jsx("p",{className:"font-medium",children:"NotaryPro v2.5.0 (Producción)"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Modo de operación"}),e.jsxs("p",{className:"font-medium flex items-center",children:[e.jsx(S,{className:"h-4 w-4 mr-1 text-green-500"}),s.some(a=>a.requiresRealMode&&!a.realModeEnabled)?"Modo mixto (algunos servicios en prueba)":"Modo real completo (producción)"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Última actualización global"}),e.jsx("p",{className:"font-medium",children:new Date().toLocaleString()})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Usuario conectado"}),e.jsx("p",{className:"font-medium",children:m?`${m.username} (${m.role||"usuario"})`:"Invitado"})]})]})]})]})}export{ue as default};
