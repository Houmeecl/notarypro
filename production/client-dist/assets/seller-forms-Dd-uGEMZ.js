import{o as W,r as f,A as Y,Y as $,j as e,a as t,T as Z,g as ee,h as b,k as y,d as w,v as C,x as S,z as T,e as D,aX as R,an as V,U as F,V as A,aD as B,aE as E,aF as _,aG as O,aH as H,I as se,J as n,K as c,N as d,O as i,P as m,Q as o,a2 as k,a3 as P,a4 as M,a5 as z,a6 as L,a7 as ae,aP as le,aI as U,aB as p,B as j,$ as re,i as q,b6 as ne,aj as ce,a0 as x,ac as de}from"./index-BPC64rrb.js";import{V as ie}from"./VecinosAdminLayout-BkUtuhvm.js";/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const te=[["path",{d:"M12.5 22H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v9.5",key:"1couwa"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M13.378 15.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"1y4qbx"}]],oe=W("file-pen",te),xe=re({storeName:x().min(3,{message:"El nombre debe tener al menos 3 caracteres"}),businessType:x().min(1,{message:"Seleccione un tipo de negocio"}),address:x().min(5,{message:"Dirección demasiado corta"}),region:x().min(1,{message:"Seleccione una región"}),comuna:x().min(1,{message:"Seleccione una comuna"}),phone:x().min(9,{message:"Teléfono inválido"}),email:x().email({message:"Email inválido"}),ownerName:x().min(3,{message:"Nombre demasiado corto"}),ownerRut:x().min(8,{message:"RUT inválido"}),ownerPhone:x().min(9,{message:"Teléfono inválido"}),hasInternet:de().default(!1),notes:x().optional()}),h=[{id:1,storeName:"Verdulería Doña Rosa",businessType:"verduleria",address:"Pasaje Los Naranjos 123, Santiago",region:"Metropolitana",comuna:"Santiago",ownerName:"Rosa Pérez",ownerRut:"15987654-3",createdAt:"2025-04-28",status:"draft",seller:"Carlos Mendoza",notes:"Cliente interesado, falta verificación de documentos"},{id:2,storeName:"Bazar Todo Barato",businessType:"bazar",address:"Av. Independencia 456, Santiago",region:"Metropolitana",comuna:"Independencia",ownerName:"Luis García",ownerRut:"11456789-2",createdAt:"2025-04-25",status:"pending",seller:"Carlos Mendoza",notes:"Documentos verificados, pendiente de revisión por certificador"},{id:3,storeName:"Kiosco El Rincón",businessType:"kiosco",address:"Calle San Diego 789, Santiago",region:"Metropolitana",comuna:"Santiago Centro",ownerName:"María González",ownerRut:"12345678-1",createdAt:"2025-04-20",status:"pending_docs",seller:"Carlos Mendoza",notes:"Faltan documentos de identidad y patente comercial"}],me=[{value:"tienda",label:"Tienda/Minimarket"},{value:"farmacia",label:"Farmacia"},{value:"libreria",label:"Librería/Papelería"},{value:"cafe",label:"Café Internet"},{value:"ferreteria",label:"Ferretería"},{value:"verduleria",label:"Verdulería"},{value:"bazar",label:"Bazar"},{value:"kiosco",label:"Kiosco"},{value:"otro",label:"Otro"}],he=[{value:"metropolitana",label:"Región Metropolitana"},{value:"valparaiso",label:"Región de Valparaíso"},{value:"biobio",label:"Región del Biobío"},{value:"araucania",label:"Región de La Araucanía"},{value:"coquimbo",label:"Región de Coquimbo"}],je=[{value:"santiago",label:"Santiago"},{value:"providencia",label:"Providencia"},{value:"nunoa",label:"Ñuñoa"},{value:"lascondes",label:"Las Condes"},{value:"maipu",label:"Maipú"},{value:"independencia",label:"Independencia"},{value:"santiagoCentro",label:"Santiago Centro"}],g=u=>{switch(u){case"draft":return e.jsx(j,{className:"bg-blue-500",children:"Borrador"});case"pending":return e.jsx(j,{className:"bg-amber-500",children:"Pendiente"});case"pending_docs":return e.jsx(j,{className:"bg-purple-500",children:"Docs. Pendientes"});case"approved":return e.jsx(j,{className:"bg-green-500",children:"Aprobado"});case"rejected":return e.jsx(j,{className:"bg-red-500",children:"Rechazado"});default:return e.jsx(j,{className:"bg-gray-500",children:"Desconocido"})}},ue=u=>{switch(u){case"draft":return e.jsx(oe,{className:"h-9 w-9 text-blue-600"});case"pending":return e.jsx(ce,{className:"h-9 w-9 text-amber-600"});case"pending_docs":return e.jsx(q,{className:"h-9 w-9 text-purple-600"});case"approved":return e.jsx(p,{className:"h-9 w-9 text-green-600"});case"rejected":return e.jsx(ne,{className:"h-9 w-9 text-red-600"});default:return e.jsx(q,{className:"h-9 w-9 text-gray-600"})}},Ne=()=>{const[u,N]=f.useState(!1),[a,G]=f.useState(null),[K,I]=f.useState(!1),[X,J]=f.useState("metropolitana"),l=Y({resolver:$(xe),defaultValues:{storeName:"",businessType:"",address:"",region:"metropolitana",comuna:"",phone:"",email:"",ownerName:"",ownerRut:"",ownerPhone:"",hasInternet:!1,notes:""}}),Q=s=>{console.log(s),N(!1)},v=s=>{G(s),I(!0)};return e.jsxs(ie,{title:"Captación de Socios",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold",children:"Solicitudes de nuevos socios"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Formularios de captación y seguimiento"})]}),e.jsx(t,{onClick:()=>N(!0),children:"Nuevo Formulario"})]}),e.jsxs(Z,{defaultValue:"all",className:"w-full",children:[e.jsxs(ee,{className:"grid w-full grid-cols-4 md:w-auto",children:[e.jsx(b,{value:"all",children:"Todos"}),e.jsx(b,{value:"draft",children:"Borradores"}),e.jsx(b,{value:"pending",children:"Pendientes"}),e.jsx(b,{value:"pending_docs",children:"Docs. Pendientes"})]}),e.jsx(y,{value:"all",className:"space-y-4 pt-4",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:h.map(s=>e.jsxs(w,{className:"overflow-hidden",children:[e.jsxs(C,{className:"pb-4",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx(S,{className:"text-base",children:s.storeName}),g(s.status)]}),e.jsxs(T,{children:[s.ownerName," · ",s.ownerRut]})]}),e.jsx(D,{className:"pb-4",children:e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(R,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{children:s.address})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(V,{className:"h-4 w-4 text-gray-500"}),e.jsxs("span",{children:["Creado: ",new Date(s.createdAt).toLocaleDateString()]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(F,{className:"h-4 w-4 text-gray-500"}),e.jsxs("span",{children:["Vendedor: ",s.seller]})]})]})}),e.jsx(A,{className:"flex justify-end pt-0",children:e.jsx(t,{variant:"ghost",onClick:()=>v(s),children:"Ver detalles"})})]},s.id))})}),e.jsx(y,{value:"draft",className:"space-y-4 pt-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[h.filter(s=>s.status==="draft").map(s=>e.jsxs(w,{className:"overflow-hidden",children:[e.jsxs(C,{className:"pb-4",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx(S,{className:"text-base",children:s.storeName}),g(s.status)]}),e.jsxs(T,{children:[s.ownerName," · ",s.ownerRut]})]}),e.jsx(D,{className:"pb-4",children:e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(R,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{children:s.address})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(V,{className:"h-4 w-4 text-gray-500"}),e.jsxs("span",{children:["Creado: ",new Date(s.createdAt).toLocaleDateString()]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(F,{className:"h-4 w-4 text-gray-500"}),e.jsxs("span",{children:["Vendedor: ",s.seller]})]})]})}),e.jsx(A,{className:"flex justify-end pt-0",children:e.jsx(t,{variant:"ghost",onClick:()=>v(s),children:"Ver detalles"})})]},s.id)),h.filter(s=>s.status==="draft").length===0&&e.jsx("div",{className:"col-span-3 py-10 text-center text-gray-500",children:"No hay borradores de solicitudes"})]})}),e.jsx(y,{value:"pending",className:"space-y-4 pt-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[h.filter(s=>s.status==="pending").map(s=>e.jsxs(w,{className:"overflow-hidden",children:[e.jsxs(C,{className:"pb-4",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx(S,{className:"text-base",children:s.storeName}),g(s.status)]}),e.jsxs(T,{children:[s.ownerName," · ",s.ownerRut]})]}),e.jsx(D,{className:"pb-4",children:e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(R,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{children:s.address})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(V,{className:"h-4 w-4 text-gray-500"}),e.jsxs("span",{children:["Creado: ",new Date(s.createdAt).toLocaleDateString()]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(F,{className:"h-4 w-4 text-gray-500"}),e.jsxs("span",{children:["Vendedor: ",s.seller]})]})]})}),e.jsx(A,{className:"flex justify-end pt-0",children:e.jsx(t,{variant:"ghost",onClick:()=>v(s),children:"Ver detalles"})})]},s.id)),h.filter(s=>s.status==="pending").length===0&&e.jsx("div",{className:"col-span-3 py-10 text-center text-gray-500",children:"No hay solicitudes pendientes"})]})}),e.jsx(y,{value:"pending_docs",className:"space-y-4 pt-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[h.filter(s=>s.status==="pending_docs").map(s=>e.jsxs(w,{className:"overflow-hidden",children:[e.jsxs(C,{className:"pb-4",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx(S,{className:"text-base",children:s.storeName}),g(s.status)]}),e.jsxs(T,{children:[s.ownerName," · ",s.ownerRut]})]}),e.jsx(D,{className:"pb-4",children:e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(R,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{children:s.address})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(V,{className:"h-4 w-4 text-gray-500"}),e.jsxs("span",{children:["Creado: ",new Date(s.createdAt).toLocaleDateString()]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(F,{className:"h-4 w-4 text-gray-500"}),e.jsxs("span",{children:["Vendedor: ",s.seller]})]})]})}),e.jsx(A,{className:"flex justify-end pt-0",children:e.jsx(t,{variant:"ghost",onClick:()=>v(s),children:"Ver detalles"})})]},s.id)),h.filter(s=>s.status==="pending_docs").length===0&&e.jsx("div",{className:"col-span-3 py-10 text-center text-gray-500",children:"No hay solicitudes con documentos pendientes"})]})})]})]}),e.jsx(B,{open:u,onOpenChange:N,children:e.jsxs(E,{className:"sm:max-w-[725px]",children:[e.jsxs(_,{children:[e.jsx(O,{children:"Nuevo formulario de captación"}),e.jsx(H,{children:"Complete los datos del nuevo socio potencial para Vecinos Xpress"})]}),e.jsx(se,{...l,children:e.jsxs("form",{onSubmit:l.handleSubmit(Q),className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-sm font-medium",children:"Datos del negocio"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(n,{control:l.control,name:"storeName",render:({field:s})=>e.jsxs(c,{children:[e.jsx(d,{children:"Nombre del negocio"}),e.jsx(i,{children:e.jsx(m,{placeholder:"Minimarket El Sol",...s})}),e.jsx(o,{})]})}),e.jsx(n,{control:l.control,name:"businessType",render:({field:s})=>e.jsxs(c,{children:[e.jsx(d,{children:"Tipo de negocio"}),e.jsxs(k,{onValueChange:s.onChange,defaultValue:s.value,children:[e.jsx(i,{children:e.jsx(P,{children:e.jsx(M,{placeholder:"Seleccionar tipo"})})}),e.jsx(z,{children:me.map(r=>e.jsx(L,{value:r.value,children:r.label},r.value))})]}),e.jsx(o,{})]})})]}),e.jsx(n,{control:l.control,name:"address",render:({field:s})=>e.jsxs(c,{children:[e.jsx(d,{children:"Dirección"}),e.jsx(i,{children:e.jsx(m,{placeholder:"Av. Principal 123",...s})}),e.jsx(o,{})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(n,{control:l.control,name:"region",render:({field:s})=>e.jsxs(c,{children:[e.jsx(d,{children:"Región"}),e.jsxs(k,{onValueChange:r=>{s.onChange(r),J(r)},defaultValue:s.value,children:[e.jsx(i,{children:e.jsx(P,{children:e.jsx(M,{placeholder:"Seleccionar región"})})}),e.jsx(z,{children:he.map(r=>e.jsx(L,{value:r.value,children:r.label},r.value))})]}),e.jsx(o,{})]})}),e.jsx(n,{control:l.control,name:"comuna",render:({field:s})=>e.jsxs(c,{children:[e.jsx(d,{children:"Comuna"}),e.jsxs(k,{onValueChange:s.onChange,defaultValue:s.value,children:[e.jsx(i,{children:e.jsx(P,{children:e.jsx(M,{placeholder:"Seleccionar comuna"})})}),e.jsx(z,{children:X==="metropolitana"&&je.map(r=>e.jsx(L,{value:r.value,children:r.label},r.value))})]}),e.jsx(o,{})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(n,{control:l.control,name:"phone",render:({field:s})=>e.jsxs(c,{children:[e.jsx(d,{children:"Teléfono del negocio"}),e.jsx(i,{children:e.jsx(m,{placeholder:"+56 9 1234 5678",...s})}),e.jsx(o,{})]})}),e.jsx(n,{control:l.control,name:"email",render:({field:s})=>e.jsxs(c,{children:[e.jsx(d,{children:"Email del negocio"}),e.jsx(i,{children:e.jsx(m,{placeholder:"negocio@ejemplo.cl",...s})}),e.jsx(o,{})]})})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-sm font-medium",children:"Datos del propietario"}),e.jsx(n,{control:l.control,name:"ownerName",render:({field:s})=>e.jsxs(c,{children:[e.jsx(d,{children:"Nombre completo"}),e.jsx(i,{children:e.jsx(m,{placeholder:"Juan Pérez",...s})}),e.jsx(o,{})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(n,{control:l.control,name:"ownerRut",render:({field:s})=>e.jsxs(c,{children:[e.jsx(d,{children:"RUT"}),e.jsx(i,{children:e.jsx(m,{placeholder:"12.345.678-9",...s})}),e.jsx(o,{})]})}),e.jsx(n,{control:l.control,name:"ownerPhone",render:({field:s})=>e.jsxs(c,{children:[e.jsx(d,{children:"Teléfono personal"}),e.jsx(i,{children:e.jsx(m,{placeholder:"+56 9 8765 4321",...s})}),e.jsx(o,{})]})})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-sm font-medium",children:"Información adicional"}),e.jsx(n,{control:l.control,name:"hasInternet",render:({field:s})=>e.jsxs(c,{className:"flex flex-row items-center justify-between rounded-lg border p-3 shadow-sm",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(d,{children:"¿Cuenta con Internet?"}),e.jsx(ae,{children:"Conexión WiFi o fija en el local"})]}),e.jsx(i,{children:e.jsx("input",{type:"checkbox",checked:s.value,onChange:s.onChange,className:"h-5 w-5 rounded border-gray-300 text-green-600 focus:ring-green-600"})})]})}),e.jsx(n,{control:l.control,name:"notes",render:({field:s})=>e.jsxs(c,{children:[e.jsx(d,{children:"Notas"}),e.jsx(i,{children:e.jsx(le,{placeholder:"Observaciones o comentarios adicionales",className:"h-20",...s})}),e.jsx(o,{})]})})]}),e.jsxs(U,{children:[e.jsx(t,{variant:"outline",type:"button",onClick:()=>N(!1),children:"Cancelar"}),e.jsx(t,{type:"submit",children:"Guardar formulario"})]})]})})]})}),a&&e.jsx(B,{open:K,onOpenChange:I,children:e.jsxs(E,{className:"sm:max-w-[700px]",children:[e.jsxs(_,{children:[e.jsxs(O,{className:"flex items-center gap-2",children:[a.storeName,e.jsx("span",{children:g(a.status)})]}),e.jsxs(H,{children:["Solicitud creada el ",new Date(a.createdAt).toLocaleDateString()]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"md:col-span-2 space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-sm font-medium",children:"Información del negocio"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[e.jsx("div",{className:"font-medium",children:"Nombre:"}),e.jsx("div",{children:a.storeName}),e.jsx("div",{className:"font-medium",children:"Tipo:"}),e.jsx("div",{children:a.businessType}),e.jsx("div",{className:"font-medium",children:"Dirección:"}),e.jsx("div",{children:a.address}),e.jsx("div",{className:"font-medium",children:"Región:"}),e.jsx("div",{children:a.region}),e.jsx("div",{className:"font-medium",children:"Comuna:"}),e.jsx("div",{children:a.comuna})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-sm font-medium",children:"Información del propietario"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[e.jsx("div",{className:"font-medium",children:"Nombre:"}),e.jsx("div",{children:a.ownerName}),e.jsx("div",{className:"font-medium",children:"RUT:"}),e.jsx("div",{children:a.ownerRut})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-sm font-medium",children:"Notas y observaciones"}),e.jsx("div",{className:"text-sm p-3 bg-gray-50 rounded-md",children:a.notes||"Sin notas adicionales"})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col items-center justify-center text-center p-4 bg-gray-50 rounded-md",children:[ue(a.status),e.jsx("h3",{className:"mt-2 font-medium",children:a.status==="draft"?"Borrador":a.status==="pending"?"Pendiente de revisión":a.status==="pending_docs"?"Documentos pendientes":a.status==="approved"?"Aprobado":"Rechazado"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:a.status==="draft"?"Complete la información":a.status==="pending"?"En espera de certificador":a.status==="pending_docs"?"Faltan documentos":a.status==="approved"?"Socio activado":"Solicitud rechazada"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"text-sm font-medium",children:"Estado del proceso"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(p,{className:"h-5 w-5 text-green-500"}),e.jsx("span",{className:"text-sm",children:"Formulario creado"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[a.status!=="draft"?e.jsx(p,{className:"h-5 w-5 text-green-500"}):e.jsx("div",{className:"h-5 w-5 rounded-full border-2 border-gray-300"}),e.jsx("span",{className:"text-sm",children:"Documentación completa"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[a.status==="pending"||a.status==="approved"?e.jsx(p,{className:"h-5 w-5 text-green-500"}):e.jsx("div",{className:"h-5 w-5 rounded-full border-2 border-gray-300"}),e.jsx("span",{className:"text-sm",children:"Enviado a revisión"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[a.status==="approved"?e.jsx(p,{className:"h-5 w-5 text-green-500"}):e.jsx("div",{className:"h-5 w-5 rounded-full border-2 border-gray-300"}),e.jsx("span",{className:"text-sm",children:"Aprobado por certificador"})]})]})]})]})]}),e.jsxs(U,{className:"gap-2",children:[a.status==="draft"&&e.jsx(t,{children:"Editar formulario"}),a.status==="pending_docs"&&e.jsx(t,{children:"Subir documentos"}),a.status==="draft"&&e.jsx(t,{children:"Enviar a revisión"}),e.jsx(t,{variant:"outline",onClick:()=>I(!1),children:"Cerrar"})]})]})})]})};export{Ne as default};
