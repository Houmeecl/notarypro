import{o as C,u as y,p as S,r as c,bx as b,j as e,d as V,v as A,x as E,aa as m,e as w,ax as g,aA as F,a as o,bB as I,bh as T,V as k}from"./index-BPC64rrb.js";import{S as D}from"./scan-CcSSd7BS.js";/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],B=C("shopping-cart",R),P={AVAILABLE_SERVICES:[{id:"doc-cert",name:"Certificación de documentos",price:3e3,icon:"document-text"},{id:"doc-sign",name:"Firma de documentos",price:2500,icon:"pen-tool"},{id:"doc-verify",name:"Verificación de documentos",price:1500,icon:"shield-check"},{id:"doc-scan",name:"Escaneo de documentos",price:1e3,icon:"scan"},{id:"id-verify",name:"Verificación de identidad",price:3500,icon:"fingerprint"},{id:"copy-service",name:"Servicio de fotocopias",price:500,icon:"copy"},{id:"print-service",name:"Servicio de impresión",price:800,icon:"printer"}],TAX_RATE:.19},H=({onVerificationComplete:f,mode:L="simple"})=>{const{toast:u}=y(),[,s]=S(),[p,d]=c.useState(!1),[l,x]=c.useState(null),[r,a]=c.useState(null),[i,h]=c.useState(!1);c.useEffect(()=>{const n=b();h(n),(async()=>{try{if("NDEFReader"in window)a(!0);else try{const t=!!window.Capacitor;a(!!t)}catch{a(!1)}}catch(t){console.error("Error al verificar soporte NFC:",t),a(!1)}})()},[]);const N=()=>{s(i?"/verificacion-nfc-fixed":"/verificacion-nfc")},v=()=>{s(i?"/verificacion-selfie-simple":"/verificacion-selfie")},j=()=>{d(!0),x(null),setTimeout(()=>{d(!1);const n={verified:!0,fullName:"JUAN PEDRO SOTO MIRANDA",documentNumber:"12345678-9",documentType:"CÉDULA DE IDENTIDAD",verificationMethod:"document"};u({title:"Verificación completada",description:"La identidad ha sido verificada correctamente en modo funcional"}),f(n)},2e3)};return e.jsxs(V,{className:"shadow-md",children:[e.jsx(A,{className:"bg-gray-50 border-b",children:e.jsxs(E,{className:"flex items-center text-blue-700",children:[i&&e.jsx(m,{className:"h-5 w-5 mr-2 text-green-500"}),"Verificación de Identidad"]})}),e.jsxs(w,{className:"pt-5",children:[l&&e.jsx(g,{variant:"destructive",className:"mb-4",children:e.jsx(F,{children:l})}),p?e.jsxs("div",{className:"py-6 text-center",children:[e.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full mx-auto mb-4"}),e.jsx("p",{children:"Verificando su identidad..."})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs(o,{variant:"outline",className:`w-full justify-start ${r===!1?"opacity-50":""}`,onClick:N,disabled:r===!1&&!i,children:[e.jsx(D,{className:"mr-2 h-4 w-4"}),"Verificar con NFC (Carnet Chip)",r===!1&&!i&&e.jsxs("span",{className:"ml-auto text-xs text-red-500 flex items-center",children:[e.jsx(I,{className:"h-3 w-3 mr-1"}),"No disponible"]})]}),e.jsxs(o,{variant:"outline",className:"w-full justify-start",onClick:v,children:[e.jsx(T,{className:"mr-2 h-4 w-4"}),"Verificar con foto del documento"]}),i&&e.jsx(o,{variant:"secondary",className:"w-full mt-4",onClick:j,children:"Verificación rápida (modo funcional)"})]})]}),i&&e.jsxs(k,{className:"bg-green-50 text-xs text-green-700 justify-center border-t",children:[e.jsx(m,{className:"h-3 w-3 mr-1"}),"Modo funcional activado para verificaciones"]})]})};export{H as I,P,B as S};
